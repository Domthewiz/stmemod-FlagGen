<!DOCTYPE html>
<html>
<body>
<h1>SMM2 Flag Generator. Documentation by HappyLappy and Domthewiz</h1>
<a href="https://raw.githubusercontent.com/Domthewiz/smm2-documentation/refs/heads/master/stmemod.png">
	<button>Memory Modding Info</button>
</a>
<a href="https://github.com/liamadvance/smm2-documentation/tree/master">
	<button>SMM2 Documentation Github</button>
</a>
<h1>4-Byte Block</h1>
<h2 id="dispVal">06000040</h2>
<h1>Binary (no spaces)</h1>
<h2 id="dispBin">00000110000000000000000001000000</h2>
<h1>Binary (with spaces)</h1>
<h2 id="dispBins">0000 0110 0000 0000 0000 0000 0100 0000</h2>
<label for="cb1">In a Pipe:</label><input type="checkbox" onclick="fetchAndProcess(7,1)" id="cb1">
<label for="cb2">Has Wings:</label><input type="checkbox" onclick="fetchAndProcess(7,2)" id="cb2">
<label for="cb3">Alternate Variant:</label><input type="checkbox" onclick="fetchAndProcess(7,4)" id="cb3">
<label for="cbM">Direction A1:</label><input type="checkbox" onclick="fetchAndProcess(7,8)" id="cbM">
<br><br>
<label for="cbN">Direction A2:</label><input type="checkbox" onclick="fetchAndProcess(6,1)" id="cbN">
<label for="dd1">Pipe Direction :</label>
<select id="dd1" onchange="handlePipeDirection()">
	<option>Right</option>
	<option>Left</option>
	<option selected>Up (Default)</option>
	<option>Down</option>
</select>
<label for="cbO">Is Container/Has Contents:</label><input type="checkbox" onclick="fetchAndProcess(6,8)" id="cbO">
<br><br>
<label for="cb4">Stretch Boo (?):</label><input type="checkbox" onclick="fetchAndProcess(5,1)" id="cb4">
<label for="cb5">In a Clown Car:</label><input type="checkbox" onclick="fetchAndProcess(5,2)" id="cb5">
<label for="cb6">On a Track:</label><input type="checkbox" onclick="fetchAndProcess(5,4)" id="cb6">
<br><br>
<label for="cb7">Enemy Stack (?):</label><input type="checkbox" onclick="fetchAndProcess(4,1)" id="cb7">
<label for="cb8">1.5x Sized:</label><input type="checkbox" onclick="fetchAndProcess(4,2)" id="cb8">
<label for="cb9">2x Sized:</label><input type="checkbox" onclick="fetchAndProcess(4,4)" id="cb9">
<label for="cbA">Parachute:</label><input type="checkbox" onclick="fetchAndProcess(4,8)" id="cbA">
<br><br>
<label for="cbB">In a Cloud:</label><input type="checkbox" onclick="fetchAndProcess(3,1)" id="cbB">
<label for="cbC">In a Cloud (?):</label><input type="checkbox" onclick="fetchAndProcess(3,2)" id="cbC">
<label for="cbD">Trinary Alt Form 2:</label><input type="checkbox" onclick="fetchAndProcess(3,4)" id="cbD">
<label for="cbE">Trinary Alt Form 3:</label><input type="checkbox" onclick="fetchAndProcess(3,8)" id="cbE">
<br><br>
<label for="cbG">Left Tracks / Begin Entry Index:</label><input type="checkbox" onclick="fetchAndProcess(2,1)" id="cbG">
<label for="cbH">Vert Tracks / Cont. Entry Index:</label><input type="checkbox" onclick="fetchAndProcess(2,2)" id="cbH">
<br><br>
<label for="cbI">Alt Form 1/N / Cont. Entry Index:</label><input type="checkbox" onclick="fetchAndProcess(2,4)" id="cbI">
<label for="cbJ">Alt Form 3/N / Cont. Entry Index:</label><input type="checkbox" onclick="fetchAndProcess(2,8)" id="cbJ">
<br><br>
<label for="cbL">Alt Form 5/N / Cont. Entry Index:</label><input type="checkbox" onclick="fetchAndProcess(1,1)" id="cbL">
<label for="dd2">Wall Cling :</label>
<select id="dd2" onchange="handlePipeDirection()">
	<option>Right</option>
	<option>Left</option>
	<option>Up</option>
	<option selected>Down (Default)</option>
</select><label for="cbF">In a Claw:</label><input type="checkbox" onclick="fetchAndProcess(1,8)" id="cbF">
<script>
	var bt = [0,6,0,0,0,0,4,0];
	var cbBox = [0,0,0,0,0,0,0,0]
	var btDisp = ["0","6","0","0","0","0","4","0"];
	var binDisp = ["0000","0110","0000","0000","0000","0000","0100","0000"];
	var binsDisp = ["0000 ","0110 ","0000 ","0000 ","0000 ","0000 ","0100 ","0000"];
	function updateValue(){
		for (let i=0;i<8;i++){
			btDisp[i] = bt[i].toString(16);
			btDisp[i] = btDisp[i].toUpperCase();
		}
		document.getElementById('dispVal').innerHTML = btDisp.join("");
		outputBinary()
		document.getElementById('dispBin').innerHTML = binDisp.join("");
		document.getElementById('dispBins').innerHTML = binsDisp.join("");
	}
	function fetchAndProcess(nybble,mask){
		if ((Math.floor(cbBox[nybble]/mask)%2)==1){
			cbBox[nybble] = cbBox[nybble]-mask;
			bt[nybble] = bt[nybble]-mask;
		} else {
			bt[nybble] = bt[nybble]+mask;
			cbBox[nybble] = cbBox[nybble]+mask;
		}
		updateValue();
	}
	function handlePipeDirection(){
		bt[6] = 2*document.getElementById('dd1').selectedIndex;
		bt[1] = 2*document.getElementById('dd2').selectedIndex;
		if ((Math.floor(cbBox[1]/8)%2)==1){bt[1]=bt[1]+8;}
		if ((Math.floor(cbBox[1])%2)==1){bt[1]=bt[1]+1;}
		if ((Math.floor(cbBox[6]/8)%2)==1){bt[6]=bt[6]+8;}
		if ((Math.floor(cbBox[6])%2)==1){bt[6]=bt[6]+1;}
		updateValue();
	}

	function outputBinary(){
		for (let i=0;i<8;i++){
			binDisp[i] = bt[i].toString(2);
			while (binDisp[i].length < 4) binDisp[i] = "0" + binDisp[i];
			binsDisp[i] = binDisp[i];
			if (i<7) binsDisp[i] = binDisp[i] + " ";
		}
	}
</script>
<style>
	body {
  		background-color: black;
	}
	h2 {
		color: white;
		font-family: Courier New;
		font-size: 200%;
		font-weight: lighter;
	}
	h1 {
		color: white;
		font-family: Lucida Console;
		font-size: 100%;
		font-weight: lighter;
	}
	label {
		font-family: sans-serif;
		color: white;
		padding-left: 2%;
	}
	button {
  		background: linear-gradient(180deg, rgba(241,241,241,1) 0%, rgba(241,241,241,1) 40%, rgba(210,210,210,1) 60%, rgba(210,210,210,1) 100%);
  		border: 2px solid #888888;
  		border-radius: 3px;
  		font-size: 90%;
  		cursor: pointer;
  		padding: 3px;
  		padding-right: 10px;
  		padding-left: 10px;
  		transition-duration: 0.2s;
  		font-family: sans-serif;
	}
	button:hover {
	  	background: linear-gradient(180deg, rgba(222,242,252,1) 0%, rgba(222,242,252,1) 40%, rgba(178,224,249,1) 60%, rgba(178,224,249,1)	 100%);
	  	border: 2px solid #79C0C7;
	}

</style>
</body>
</html>
